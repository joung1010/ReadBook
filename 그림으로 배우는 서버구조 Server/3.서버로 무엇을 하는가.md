## 처음은 시스템, 다음은 서버

1. 시스템 검토  
**서버 검토는 시스템에 대한 이미지가 구체회된 후에 시작**한다.  
즉, 서버 검토를 먼저 한는것이 아니다. 시스템 사용자나 기획자가 '이러한 시스템으로 만들고 싶다'라고  
머리에 그린 것을 구체화해 나가는 가운데 어떠한 서버가 필요한지 검토한다.  
시스템에 대한 이미지가 잡히기 시작하면, 이용자 수나 거점(사이트) 수 등 시스템 규모에 대한 구체적인 숫자를 파악한다.  
이렇게 구체적인 숫자를 파악하면, **대략 어떤 시스템으로 만들 것인지 설명**할 수 있다.  

2. 시스템 규모  
예를 들어 설립한지 얼마 되지 않은 기업에서 고객 관리 시스템을 새롭게 도입하려 한다고 한다.  
이때 시스템을 검토화 하는 가운데 어떤 시스템으로 하고 싶은지를 명확히 해야한다.  
중요한 것은 '어떤 하드웨어와 소프트웨어로 고객 관리 시스템을 실현할 것인가?'인데  
이것은 **시스템 규모에 따라 달라진다.**  
또한, 어느 정도 시간 안에 고객 데이터를 검색할 수 있어야 하는 지 등 **시스템 성능에 대한 요구**도 있다.  

3. 성능 견적과 사이징  
구매전 요건에서 어능 정도 서버 성능이 필요한지 판정해서 수치로 산출하는 것을 **성능 견적**이라고 한다.  
성능 견적을 받아 CPU, 메모리, 디스크 I/O 성능 등을 보고 서버를 선정하는 것을 **사이징** 이라고한다.  

## 정말 서버가 필요할까?

1. PC로도 상당한 작업을 할 수 있다.  
예전과 다르게 PC의 성능은 매우 높아졌다. 기종에 따라서는 옛날 서버급의 사양을 가진 PC도 있다.  
지금은 PC로도 상당한 작업을 처리할 수 있게 되었다.  
그래서 다시한번 서버가 필요한 이유를 생각해보자.  
* 다수의 클라이언트가 데이터를 공유하는 도구로 사용한다.
* 시스템이 멈추거나 데이터가 사라지는 일은 절대로 피하고 싶다.
PC의 경우에는 클라이언트-서버 처럼 데이터를 **공유하는 도구로 사용할 수는 없다.**  

2. 재검토할 기회  
검토하고 있는 시스템에서 공유하는 도구로써의 기능은 과연 필수적일까?  
예를 들어 많은 직원이 사용할 수 있도록 생각했더라도 입력 타이밍이나 데이터를 조사해보면  
,입력 처리는 여러명이 하지만 동시에는 한 명밖에 사용하지 않는 경우도 있습니다.  
불의의 고장이나 장애에 대해서도 자주 백업해서 만일의 데이터 손실을 막는 방법도 있다.  
서버나 시스템을 도입할 때는 투자 대비 효과를 생각해야 한다.  
서버는 PC보다 비용이 더 들기 때문에 투자 대비 효과도 확인해야한다.  
새로운 업무 시스템을 추가로 도입하기 전에 기존 서버와 PC에 애플리케이션 소프트웨어를 설치하는 것만으로 충분하지 않는은지 등  
비용을 줄이는 방법을 검토해야한다.  

## 서버는 산하의 컴퓨터를 어떻게 보고 있을까??

1. 서버와 산하의 컴퓨터 모두 같은 방식으로  
서버와 산하 컴퓨터 사이에서는 서로 **IP주소**로 호출한다.  
IP 주소는 **네트워크에서 통신 상대를 식별하기 위한 번호**로 0에서 255까지 숫자를 점으로 구분해서 4개로 나누어서 표현 ex)1xxx.4xxx.xxxx.xxxx  
사내 파일 서버로 접속 할때는 '\\x\server01' 처럼 경로명을 지정하고, 외부 사이트에 접속할때는 'http://www.xxxx.com'처럼 URL을 지정한다.  

2. IP 주소와 MAC 주소  
IP 주소는 한마디로 컴퓨터 소프트웨어가 인식하는 컴퓨터 주소이고, **MAC 주소**는 하드웨어가 인식하는 주소이다.  
MAC 주소는 자신의 네트워크 내에서 기기를 특정하기 위한 번호이다.  
실물의 MAC 주소는 두 자릿수로 된 영숫자 6개를 5개의 콜론이나 하이폰으로 연결한 것이다.  
```
1. 송신 컴퓨터
      ↓  1. 목적지 IP : 10.10.10.xxx
         2. 다음MAC 주소 : 03L
2. 라우터 B
    IP : 30.30.30.xxx
    MAC : 03L
      ↓  1. 목적지 IP : 10.10.10.xxx
         2. 다음MAC주소 : 02L
3.라우터 C   
    IP:20.20.20.xxx
    MAC: 02L
      ↓   1. 목적지 IP : 10.10.10.xxx
          2. 다음MAC 01S
4. 서버 
    IP : 10.10.10.xxx
    MAC: 01S
```  
클라이언트는 1의 호출로 B로가고 다음 으로 2의 호출로 C로간다.  
3의 호출로 서버에 도착한다. MAC 주소를 목표로 하나씩 착실하게 진행한다.  

5. TCP/IP 4계층  
서버와 산하 컴퓨터의 데이터 교환에는 4계층으로 나타낼 수 있는 **TCP/IP** 프로토콜이 사용된다.  
서버와 산하 컴퓨터의 애플리케이션 소프트웨어 사이에는 데이터 포맷이나 송수신 순서를 정해둘 필요가 있다.  
예를 들어 친숙한 HTTP, 메일의 SMTP나 POP3등이 있는데, 이것들은 애플리케이션층 프로토콜이라고 부른다.  
서로 어떻게 데이터를 주고받을지는 애플리케이션층에서 결정한다.  
  
상대에게 데이터를 전달하는 것은 트랜스포트층의 역할이다.  
트랜스포트 층은 2가지 프로토콜이 있다.  
전화처럼 한 번 상대방과 연결되면 끊길 때까지 송신자오 ㅏ관계없이 계속해서 데이터를 주고받는 **UDP 프로토콜**  
데이터를 보낼 때마다 송신자와 데이터를 명시하는 **TCP 프로토콜**이 있다.  
이렇게 데이터를 주고받는 규칙과 , 보내고 받는 방법을 정한다음에 어떤 코스로 갈지 결정할 차례이다.  
인터넷층에서는 앞에서 IP 주소를 이용해서 코스를 결정할 수 있다.  
  
어떤 코스로 전달할지 정하게 되면 마지막은 물리적인 부분이다.  
무선 와이파이, 블루투스, 유선 랜, 적외선 등 물리적인 층을 네트워크 인터페이스층이라고 한다.  
![tcpip](https://user-images.githubusercontent.com/79488695/180390752-371f0ad5-90ca-471f-9947-5e4a16e11c16.png)  
각각의 층에서 헤더가 추가되고 **캡슐화**되어 다음 계층으로 넘어간다

## 라우터와의 기능차이

1. 역할의 차이  
서버는 산하의 컴퓨터나 디바이스와 함께 각종 데이터를 처리한다. 물론 단독 처리도 가능하다.  
반면에 **라우터**를 비롯한 다른 네트워크 기기는 다양한 컴퓨터를 연결하여 **데이터 처리를 실행할 수 있도록 도와준다.**  

2. 라우터의 역할  
서버에서 산하의 컴퓨터에 대해서 처리를 할 때 자신과 상대 컴퓨터의 IP 주소와 MAC 주소를 지정한다.  
이때 라우터는 **전송되는 데이터를 자신이 목적지로 보낼 것인지, 아니면 다음 라우터로 중계할 것인지** 항상 생각하게 된다.  
후자의 경우에는 적절하다고 판단되는 기기에 데이터를 전달한다. 이 과정을 반복함으로써 상대 컴퓨터에 데이터가 전달된다.  

## 서버 가상화와 데스크톱 가상화

1. 역할의 차이  
서버의 가상화는 물리적으로 1대의 서버 안에서 복수 서버의 기능을 논리적으로 갖게 하는 것을 말하고 이를 **가상 서버** 라고 부르기도 한다.  
이 가상 서버의 장점은  
* 2대를 설치할 장소를 1대로 끝냈으므로 설치 장소, 전력 소비등 물리적 관점에서 우수하다.
* 가상화된 서버는 다른 서버에서 복사하거나 이동하기 비교적 쉬워 장애. 재해 대책으로 효과적이다.  
반면 단점으로는 물리 서버 1대를 가상 서버 2대로 나누면 성능이 떨어진다는 단점이 있다.  

2. 데스크톱 PC 가상화  
데스크톱 가상화는 **VDI**(Virtual Desktop Infrastructure)라고 부른다.  
대표적으로 데스크톱PC는 서버에 있는 가상의 '자신'을 호출해서 일한다.  
데스크톱PC는 가상화된 자신을 호출할 수 있는 최소한의 메모리와 디스크가 있으면 된다.  

3. 씬클라이언트(Thin Client)  
**처리의 실행이나 데이터 저장 등을 서버에서 수행항는 클라이언트**  
장점은 PC가 도난을 당해도 데이터가 들어 있지 않기 때문에 막대한 피애에 이르지 않는다.  
이처럼 클라이언트를 가상화하면, 네트워크에 접속해 어디에서나 업무를 처리할 수 있으며 클라이언트 기기 자체도 하나에 구애받을 필요가 없다.  
여러 기기에서 서버에 있는 자신의 가상 클라이언트를 호출해 처리하면 됩니다. 이른바 텔레워크 나 리모트 워크 환경이 만들어 지면서  
근로 방식의 개혁이라 할 수 있다.  

## 네트워크 가상화

1. 네트워크 가상화의 배경  
가상화의 기술의 예로 앞에서 클라이언트 가상화, 서버 가상화를 설명 했다.  
마찬가지로 네트워크 세계도 가상화가 진행되고 있다.  
네트워크 가상화 기술의 하나로 **패브릭 네트워크**가 주목을 받고 있다.(이너넷 패브릭등 으로 불리기도 한다.)  
서버의 가상화나 집약화가 진행되면, 복수의 서버의 기능을 1대의 서버에 집어 넣는 일이 반복되게 된다.  
즉, 통신 환경이 크게 변하지 않으면, 데이터 통신량이 이전보다 훨씬 많아져서 성능이 저하 된다.  

2. 페브릭 네트워크의 특징  
서버 가상화는 서버 한대가 복수의 서버 기능을 가지고, 데스코톱PC 가상화에서는 서버 안에 복수의 클라이언트의 기능을 가진다.  
페브릭 네트워크는 복수의 네트워크 기기를 하나의 기기처럼 만드는 것으로 기존에 일대일 라우팅 하던 것을 **멀티 대응으로 라우팅**  
합니다.  
```
1.
             네트워크 기기 1
            ↙           ↘    
네트워크 기기 2         네트워크 기기 3      
    ↙↓↘                     ↙↓↘  
      
2.
             네트워크 기기 1
            ↙           ↘    
네트워크 기기 2     ⇄    네트워크 기기 3 
    ↙↓↘                   ↙↓↘ 
    
1. 3대의 네트워크 기기가 가상으로 1대가 되도록 복수의 기기를 포함해 최적의 경로를 찾는다.
2.  ⇄ 표시 새로 만들어진 경로의 예, 물론 물리적으로 접속할 수 있게 준비할 필요는 있다.
```

## 바로 사용할 수 있는 서버

1. 가능별로 전용 서버를 설치  
위의 가상화와 반대되는 입장이 기능마다 전용 서버를 설치한다는 발상이다.  
대표적인 것이 **어플라이언스 서버**이다.  
어플라이언스 서버는 특정 기능을 위해 설정된 서버로, 하드웨어, OS에 추가로 필요한 소프트웨어가 설치된다.  
```
하드웨어 + 소프트 웨어  : 파일 서버, 메일서버등 특정한 기능 전용
(OS, 미들웨어, 애플리케이션)

하드 웨어
 ------------
|  메일서버   |
 ------------
|  파일서버   |
 ------------
|             |
 -- -- -------
어플라이언스 서버는 하드웨어로써의 서버에 필요한 소프트웨어가 이미 설치되어있다.
예와 같이 기능별로 서버를 설치하므로 , 많이 사용하면 서버의 물리적인 수가 늘어난다.
```
따라서 **간단한 설정을 마치면 바로 사용할 수 있다.**  

-장점  
* 간단한 설정으로 바로 사용할 수 있다.
* 필요한 기능에 특화되어 있으므로 비용은 낮다.  
-단점  
* 할 수 있는 일이 제한되어, 요구에 맞이 않으면 사용할 수 없다.
* 다른 기능으로의 전용이 어렵다.
* 기능별로 대수가 늘어난다.  

## 서버의 디스크  

1. 서버용 하드디스크의 특징  
서버용 하드디스크는 PC와 비교하면 서능과 신뢰성이 높은 제품이 사용된다.  
* 사용자 수가 많으므로 작업 부하가 높다.
* 24시간 계속 동작할 필요가 있다.  
```
서버의 하드디스크는 데이터 입출력 요청이 PC와 달리 많이 들어온다!.

하드 디스크는 신속하게 응답할 수 있어야한다.
(레이턴시: 통신 요청부터 데이터가 보내질 때까지의 시간, 밀리초로 표시) --> 반응이 빠른 사람

(스루풋 : 데이터 전송속도, MB/초로 표시)                             --> 일처리가 빠른사람
그리고 대량으로 반응할 수 있어야한다(트랜잭션 레이트, 초당 횟수)      --> 많은 일을 해내는 사람

```  

2. 신뢰성에 대한 요구  
서버는 하드디스크에 장애가 발생해도 **즉시 교환하거나 증설해 업무를 지속하고 신속하게 데이터를 복구**할 필요가 있다.



